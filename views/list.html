<div id="wrapper" class="main ease05"  ng-class="lc.sidebarWrapperClasses()">

<div id="sidebar-wrapper" class="ease05 hidden-print">
<form name="filterForm">
    <div class="input-group">
      <span class="input-group-btn">
        <button type="button" class="btn btn-default" ng-click="lc.toggleSidebar(false)">
          <i class="glyphicon glyphicon-triangle-left"></i>
        </button> 
        <button type="button" class="btn btn-default" ng-show="rc.query" ng-click="rc.query=''; rc.loadRecipeList();">
          <i class="glyphicon glyphicon-remove-circle"></i>
        </button> 
      </span>
      <input type="text" class="form-control" id="inputDescription" ng-model="rc.query" placeholder="Search" ng-blur="rc.loadRecipeList()" />
      <span class="input-group-btn">
        <button type="button" class="btn btn-default" ng-click="rc.loadRecipeList()">
          <i class="glyphicon glyphicon-search"></i>
        </button> 
      </span>
    </div>

	<div id="categories" class="scrollY">
		<div id="categoryType_{{type.ID}}" ng-repeat="type in rc.categoryTypes" class="categoryType ease05">
			<div class="categoryTypeTitle nowrap">
				<a ng-click="type.show=!type.show">
					<img ng-src="images/{{type.show ? 'minus' : 'expand'}}.png"/>{{type.Name}}
				</a>

			<a class="category nowrap" ng-repeat="cat in type.Categories" ng-if="rc.selectedCategories[cat.ID]"
			ng-click="rc.selectedCategories[cat.ID]=false; rc.loadRecipeList();"> {{cat.Name}}</a>

			</div>
			<div id="category_{{cat.ID}}" class="category nowrap ease05" ng-repeat="cat in type.Categories" ng-if="type.show">
				<input type="checkbox" class="chkSearch" id="cb_cat_{{cat.ID}}"
				 ng-model="rc.selectedCategories[cat.ID]"  ng-true-value="{{cat.ID}}"
				  ng-change="rc.loadRecipeList()" />
				<label for="cb_cat_{{cat.ID}}">{{cat.Name}}</label>
			</div>
		</div>
	</div>
</form>
</div>

<div id="page-content-wrapper" class="center ease05">
	<p class="title hidden-print">{{rc.title()}}</p>

	<p ng-if="!lc.isLoggedIn()">Welcome! Here are some of our latest recipes.<br/>
	You can <a class="btn btn-primary" ui-sref="signin">Log in</a> or <a class="btn btn-primary" ui-sref="signup">Sign up</a> to discover more content, and submit your own recipes!</p>

	<div id="item_{{recipe.ID}}" class="recipeListItemTop bordered bgwhite margin shadow" ng-repeat="recipe in rc.list">

		<a ui-sref="recipe({recipeId: recipe.ID})">
			<crop-image class="recipeImage" src="{{rc.recipePhotoUrl(recipe,2)}}" model="recipe" on-error="rc.removeImage"></crop-image>
		</a>

		<div class="pad5">
			<div class="centered">
				<a class="recipeTitle textWhiteOutline" ui-sref="recipe({recipeId: recipe.ID})">{{recipe.Name}}</a>
			</div>
			<div class="left">{{rc.firstSentence(recipe.Description)}}</div>
		</div>

		<div class="pad5 bottomLeftCorner stretchW centered">
			<a class="recipeTag pad2 nowrap" ng-click="rc.selectCategory(cat.ID, true); rc.loadRecipeList()" ng-repeat="cat in recipe.categories">{{cat.Name}}</a>
		</div>
	</div>

	<div class="fixedTopLeft hidden-print">
	    <a class="btn btn-default menu-toggle glyphicon glyphicon-search" title="Search" ng-show="!lc.sidebar && lc.isLoggedIn()" ng-click="lc.toggleSidebar(true)"></a>
	</div>

	<div class="fixedTopRight hidden-print">
		<img src="images/ajax-loader.gif" ng-show="rc.loading"/>
		<div class="title textWhiteOutline" ng-show="!rc.loading && rc.list.length">{{rc.list.length}}</div>
		<div class="small bold textWhiteOutline"  ng-show="!rc.loading">{{rc.list.length ? rc.plural(rc.list.length>1, "recipe") : "No results found."}}</div>
		{{rc.status}}
	</div>

</div>
</div>
